<div id="todo-<%= todo.id %>" class="flex items-center justify-between p-3 bg-white border rounded shadow-sm <%= 'opacity-50' if todo.completed %>">
  <div class="flex items-center gap-3">
    <%= htmx_form "/todos/#{todo.id}", method: :put, target: "#todo-#{todo.id}", swap: "outerHTML" %>
      <input type="checkbox" 
             onchange="this.form.requestSubmit()" 
             <%= 'checked' if todo.completed %>
             class="w-5 h-5 text-salvia-600 rounded focus:ring-salvia-500">
    <%= form_close %>
    
    <span class="<%= 'line-through text-gray-500' if todo.completed %>">
      <%= todo.title %>
    </span>
  </div>

  <%= htmx_link_to "削除", "/todos/#{todo.id}", 
        method: :delete, 
        target: "#todo-#{todo.id}", 
        swap: "outerHTML",
        confirm: "本当に削除しますか？",
        class: "text-red-500 hover:text-red-700 text-sm" %>
</div>
