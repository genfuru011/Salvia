<div class="max-w-md mx-auto mt-10">
  <h1 class="text-2xl font-bold mb-4 text-salvia-700">ToDo List</h1>

  <!-- 新規作成フォーム -->
  <%= htmx_form "/todos", method: :post, target: "#todo-list", swap: "afterbegin" %>
    <div class="flex gap-2 mb-6">
      <input type="text" name="title" placeholder="新しいタスク..." class="flex-1 border rounded px-3 py-2" required>
      <button type="submit" class="bg-salvia-500 text-white px-4 py-2 rounded hover:bg-salvia-600">追加</button>
    </div>
  <%= form_close %>

  <!-- リスト -->
  <div id="todo-list" class="space-y-2">
    <% @todos.each do |todo| %>
      <%= render partial: "todos/todo", locals: { todo: todo } %>
    <% end %>
  </div>
  
  <div class="mt-8 text-center">
    <%= link_to "ダッシュボードへ (Islands Demo)", "/dashboard", class: "text-salvia-500 hover:underline" %>
  </div>
</div>
